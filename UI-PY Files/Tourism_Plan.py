# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'Tourism_Plan.ui'
#
# Created by: Suraj Giri
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from multiprocessing import connection
from PyQt5.QtWidgets import QMessageBox,QInputDialog,QWidget
from PyQt5 import QtCore, QtGui, QtWidgets


class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.setEnabled(True)
        MainWindow.resize(710, 691)
        MainWindow.setAutoFillBackground(True)
        MainWindow.setToolButtonStyle(QtCore.Qt.ToolButtonTextUnderIcon)
        MainWindow.setAnimated(True)
        MainWindow.setTabShape(QtWidgets.QTabWidget.Rounded)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.label = QtWidgets.QLabel(self.centralwidget)
        self.label.setGeometry(QtCore.QRect(290, 30, 151, 21))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(18)
        font.setBold(True)
        font.setWeight(75)
        self.label.setFont(font)
        self.label.setObjectName("label")
        self.newPlan = QtWidgets.QPushButton(self.centralwidget)
        self.newPlan.setGeometry(QtCore.QRect(30, 90, 91, 31))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.newPlan.setFont(font)
        self.newPlan.setObjectName("newPlan")
        self.updatePlan = QtWidgets.QPushButton(self.centralwidget)
        self.updatePlan.setGeometry(QtCore.QRect(130, 90, 101, 31))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.updatePlan.setFont(font)
        self.updatePlan.setObjectName("updatePlan")
        self.deletePlan = QtWidgets.QPushButton(self.centralwidget)
        self.deletePlan.setGeometry(QtCore.QRect(240, 90, 111, 31))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.deletePlan.setFont(font)
        self.deletePlan.setObjectName("deletePlan")
        self.groupBox = QtWidgets.QGroupBox(self.centralwidget)
        self.groupBox.setGeometry(QtCore.QRect(160, 130, 411, 481))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.groupBox.setFont(font)
        self.groupBox.setObjectName("groupBox")
        self.label_2 = QtWidgets.QLabel(self.groupBox)
        self.label_2.setGeometry(QtCore.QRect(20, 30, 61, 21))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_2.setFont(font)
        self.label_2.setObjectName("label_2")
        self.p = QtWidgets.QLabel(self.groupBox)
        self.p.setGeometry(QtCore.QRect(110, 30, 61, 21))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(11)
        font.setBold(False)
        font.setWeight(50)
        self.p.setFont(font)
        self.p.setObjectName("p")
        self.pid = QtWidgets.QLineEdit(self.groupBox)
        self.pid.setGeometry(QtCore.QRect(170, 30, 71, 20))
        self.pid.setObjectName("pid")
        self.label_4 = QtWidgets.QLabel(self.groupBox)
        self.label_4.setGeometry(QtCore.QRect(20, 60, 81, 21))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_4.setFont(font)
        self.label_4.setObjectName("label_4")
        self.pname = QtWidgets.QLineEdit(self.groupBox)
        self.pname.setGeometry(QtCore.QRect(110, 60, 201, 20))
        self.pname.setObjectName("pname")
        self.label_5 = QtWidgets.QLabel(self.groupBox)
        self.label_5.setGeometry(QtCore.QRect(20, 90, 81, 21))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_5.setFont(font)
        self.label_5.setObjectName("label_5")
        self.pstate = QtWidgets.QComboBox(self.groupBox)
        self.pstate.setGeometry(QtCore.QRect(110, 90, 201, 22))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(10)
        font.setBold(False)
        font.setWeight(50)
        self.pstate.setFont(font)
        self.pstate.setObjectName("pstate")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.pstate.addItem("")
        self.label_6 = QtWidgets.QLabel(self.groupBox)
        self.label_6.setGeometry(QtCore.QRect(20, 120, 91, 21))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_6.setFont(font)
        self.label_6.setObjectName("label_6")
        self.pdetails = QtWidgets.QPlainTextEdit(self.groupBox)
        self.pdetails.setGeometry(QtCore.QRect(110, 120, 271, 201))
        self.pdetails.setObjectName("pdetails")
        self.label_7 = QtWidgets.QLabel(self.groupBox)
        self.label_7.setGeometry(QtCore.QRect(10, 330, 101, 21))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_7.setFont(font)
        self.label_7.setObjectName("label_7")
        self.pduration = QtWidgets.QLineEdit(self.groupBox)
        self.pduration.setGeometry(QtCore.QRect(110, 330, 201, 20))
        self.pduration.setObjectName("pduration")
        self.submit = QtWidgets.QPushButton(self.groupBox)
        self.submit.setGeometry(QtCore.QRect(100, 420, 191, 41))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.submit.setFont(font)
        icon = QtGui.QIcon()
        icon.addPixmap(QtGui.QPixmap("../../Users/Suraj/Downloads/37-approve-checked-simple-flat (1).gif"), QtGui.QIcon.Normal, QtGui.QIcon.Off)
        self.submit.setIcon(icon)
        self.submit.setFlat(False)
        self.submit.setObjectName("submit")
        self.label_8 = QtWidgets.QLabel(self.groupBox)
        self.label_8.setGeometry(QtCore.QRect(10, 360, 101, 21))
        font = QtGui.QFont()
        font.setFamily("Times New Roman")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.label_8.setFont(font)
        self.label_8.setObjectName("label_8")
        self.pamt = QtWidgets.QLineEdit(self.groupBox)
        self.pamt.setGeometry(QtCore.QRect(110, 360, 201, 20))
        self.pamt.setObjectName("pamt")
        MainWindow.setCentralWidget(self.centralwidget)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

        ##
        self.submit.clicked.connect(self.NewPlan)
        self.updatePlan.clicked.connect(self.UpdatePlan)
        self.deletePlan.clicked.connect(self.DeletePlan)


    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "Tourism Plan"))
        self.label.setText(_translate("MainWindow", "Tourism Plans"))
        self.newPlan.setText(_translate("MainWindow", "New Plan"))
        self.updatePlan.setText(_translate("MainWindow", "Update Plan"))
        self.deletePlan.setText(_translate("MainWindow", "Delete Plan"))
        self.groupBox.setTitle(_translate("MainWindow", "Plan Box"))
        self.label_2.setText(_translate("MainWindow", "Plan ID:"))
        self.p.setText(_translate("MainWindow", "SSRTRS"))
        self.label_4.setText(_translate("MainWindow", "Plan Name:"))
        self.label_5.setText(_translate("MainWindow", "Plan State:"))
        self.pstate.setItemText(0, _translate("MainWindow", "Select State"))
        self.pstate.setItemText(1, _translate("MainWindow", "Andhra Pradesh"))
        self.pstate.setItemText(2, _translate("MainWindow", "Arunachal Pradesh"))
        self.pstate.setItemText(3, _translate("MainWindow", "Assam"))
        self.pstate.setItemText(4, _translate("MainWindow", "Bihar"))
        self.pstate.setItemText(5, _translate("MainWindow", "Chhattisgarh"))
        self.pstate.setItemText(6, _translate("MainWindow", "Goa"))
        self.pstate.setItemText(7, _translate("MainWindow", "Gujarat"))
        self.pstate.setItemText(8, _translate("MainWindow", "Haryana"))
        self.pstate.setItemText(9, _translate("MainWindow", "Himachal Pradesh"))
        self.pstate.setItemText(10, _translate("MainWindow", "Jharkhand"))
        self.pstate.setItemText(11, _translate("MainWindow", "Karnataka"))
        self.pstate.setItemText(12, _translate("MainWindow", "Kerala"))
        self.pstate.setItemText(13, _translate("MainWindow", "Madhya Pradesh"))
        self.pstate.setItemText(14, _translate("MainWindow", "Maharashtra"))
        self.pstate.setItemText(15, _translate("MainWindow", "Manipur"))
        self.pstate.setItemText(16, _translate("MainWindow", "Meghalaya"))
        self.pstate.setItemText(17, _translate("MainWindow", "Mizoram"))
        self.pstate.setItemText(18, _translate("MainWindow", "Nagaland"))
        self.pstate.setItemText(19, _translate("MainWindow", "Odisha"))
        self.pstate.setItemText(20, _translate("MainWindow", "Punjab"))
        self.pstate.setItemText(21, _translate("MainWindow", "Rajasthan"))
        self.pstate.setItemText(22, _translate("MainWindow", "Sikkim"))
        self.pstate.setItemText(23, _translate("MainWindow", "Tamil Nadu"))
        self.pstate.setItemText(24, _translate("MainWindow", "Telangana"))
        self.pstate.setItemText(25, _translate("MainWindow", "Tripura"))
        self.pstate.setItemText(26, _translate("MainWindow", "Uttarakhand"))
        self.pstate.setItemText(27, _translate("MainWindow", "Uttar Pradesh"))
        self.pstate.setItemText(28, _translate("MainWindow", "West Bengal"))
        self.label_6.setText(_translate("MainWindow", "Plan Details:"))
        self.label_7.setText(_translate("MainWindow", "Plan Duration:"))
        self.submit.setText(_translate("MainWindow", "Submit"))
        self.label_8.setText(_translate("MainWindow", "Plan Amount:"))

       
    def connection(self):
        import mysql.connector
        cn=mysql.connector.connect(host="localhost",user="root",password="",database="trs")
        return cn

    def clear(self):
        self.pid.clear()
        self.pname.clear()
        self.pstate.setCurrentIndex(0)
        self.pduration.clear()
        self.pamt.clear()
    
   

    def NewPlan(self):
        id=self.p.text()+' '+self.pid.text()
        pname=self.pname.text()
        pstate=self.pstate.currentText()
        pdetails=self.pdetails.toPlainText()
        pduration=self.pduration.text()
        pamt=float(self.pamt.text())
        cn=self.connection()
        mq=cn.cursor()
        sql="INSERT INTO `tourism_plan`(`plan_id`, `plan_name`, `plan_state`, `plan_details`, `plan_duration`, `plan_amount`) VALUES (%s,%s,%s,%s,%s,%s)"
        v=(id,pname,pstate,pdetails,pduration,pamt)
        mq.execute(sql,v)
        cn.commit()
        if cn.commit:
            Message("Tourism Plan","New Tour Plan Added")
            self.clear()
        else:
            Message("Tourism Plan","Plan Cannot Be Added")


    def UpdatePlan(self):
        no, ok=QInputDialog.getText(QWidget(self.centralwidget),"Tourism Plan","Plan ID")
        if no!='':
            cn=self.connection()
            mycursor=cn.cursor()
            mycursor.execute("select * from tourism_plan where plan_id like '"+no+"';")
            r=mycursor.fetchone()
            self.pid.setText(str(r[0]))
            self.pname.setText(r[1])
            self.pstate.set(r[2])
            self.pdetails.setPlainText(r[3])
            self.pduration.setText(r[4])
            self.pamt.setText(str(r[5]))
        else:
            Message("Employee","Empty") 

    def DeletePlan(self):
        no, ok=QInputDialog.getText(QWidget(self.centralwidget),"Tourism Plan","Plan ID")
        if no!='':
            cn=self.connection()
            mycursor=cn.cursor()
            mycursor.execute("DELETE from tourism_plan where plan_id like '"+no+"';")
            cn.commit()
            Message("Tourism Plan","Plan Deleted")
        else:
            Message("Tourim Plan","Returned Empty")

def Message(h,mssg):
        msg = QMessageBox()
        msg.setWindowTitle(h)
        msg.setText(mssg)
        msg.setIcon(QMessageBox.Information)
        msg.exec_()


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
